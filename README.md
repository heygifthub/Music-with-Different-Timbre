# Music-with-Different-Timbre
Generate digital music with different timbre by analysing instruments' timbres and making use of midi<br>
<br>
### Environment: MatlabR2015b<br>

### Setup
Add "matlab-midi-master" to Matlab path. It's a convinient toolbox for parsing midi file<br>
Author of "matlab-midi-master": https://github.com/kts/matlab-midi. Thank you.<br>

### Inroduction
##### Generate music with midi 
1. Run guitarmusic.m in Guitar folder <br>
   note: If error happens like "index exceeds dimension", you may need to pay attention to line4'len=ceil((score(end,6)+100)*fs) 'and increase its value<br>
   <br>This error is due to some problem happened in generating notes.<br>
2. Run midimusic.m in Violin or Piano folder<br> 
   Violin and piano timbres are generated by analysing their harmonic waves while guitar timbre is based on Karplus-Strong algorithm.<br>

##### Generate music with music score
Run Melody.m in Melody folder. You can modify code inside to produce different timbre.<br>
Music score is recorded in Melody.mat in the format of "Note  do  melody  tbase"<br>
Note: note means type of note; '16' means one-sixteenth note<br>
do: do means pitch of whole melody such as C D E F G A B<br>
melody: numbered musical notation <br>
tbase: duration of a whole note

### Analysis and prework
Example: Analysis_ViolinTimbre<br>
Harmonic waves of different timbre are needed to be analysed to get ratio and envelope
